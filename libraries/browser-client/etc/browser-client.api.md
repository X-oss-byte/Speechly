## API Report File for "@speechly/browser-client"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @public
export interface APIClient {
    close(): Promise<void>;
    initAudioProcessor(sourceSampleRate: number, vadOptions?: VadOptions): Promise<void>;
    initialize(apiUrl: string, authToken: string, targetSampleRate: number, debug: boolean): Promise<void>;
    onClose(cb: CloseCallback): void;
    onResponse(cb: ResponseCallback): void;
    postMessage(message: Object): void;
    sendAudio(audioChunk: Float32Array): void;
    startContext(appId?: string): Promise<string>;
    // (undocumented)
    startStream(defaultContextOptions?: ContextOptions): Promise<void>;
    stopContext(): Promise<string>;
    // (undocumented)
    stopStream(): Promise<void>;
    switchContext(appId: string): Promise<string>;
}

// @public
export class BrowserClient {
    constructor(options: DecoderOptions);
    attach(mediaStream: MediaStream): Promise<void>;
    close(): Promise<void>;
    detach(): Promise<void>;
    initialize(options?: {
        mediaStream?: MediaStream;
    }): Promise<void>;
    // (undocumented)
    isActive(): boolean;
    onEntity(cb: (contextId: string, segmentId: number, entity: Entity) => void): void;
    onIntent(cb: (contextId: string, segmentId: number, intent: Intent) => void): void;
    onSegmentChange(cb: (segment: Segment) => void): void;
    onStateChange(cb: (state: DecoderState) => void): void;
    onTentativeEntities(cb: (contextId: string, segmentId: number, entities: Entity[]) => void): void;
    onTentativeIntent(cb: (contextId: string, segmentId: number, intent: Intent) => void): void;
    onTentativeTranscript(cb: (contextId: string, segmentId: number, words: Word[], text: string) => void): void;
    onTranscript(cb: (contextId: string, segmentId: number, word: Word) => void): void;
    // (undocumented)
    onVadStateChange(active: boolean): void;
    start(options?: ContextOptions): Promise<string>;
    startStream(defaultContextOptions?: ContextOptions): Promise<void>;
    stop(): Promise<string | null>;
    stopStream(): Promise<void>;
    uploadAudioData(audioData: ArrayBuffer, options?: ContextOptions): Promise<string>;
}

// @public
export class BrowserMicrophone {
    constructor();
    close(): Promise<void>;
    initialize(): Promise<void>;
    // (undocumented)
    isRecording(): boolean;
    // (undocumented)
    mediaStream?: MediaStream;
}

// @public
export type CloseCallback = (err: {
    code: number;
    reason: string;
    wasClean: boolean;
}) => void;

// @public
export class CloudDecoder {
    constructor(options: DecoderOptions);
    close(): Promise<void>;
    connect(): Promise<void>;
    // (undocumented)
    initAudioProcessor(sampleRate: number, vadOptions?: VadOptions): Promise<void>;
    // (undocumented)
    registerListener(listener: EventCallbacks): void;
    sendAudio(audio: Float32Array): void;
    startContext(options?: ContextOptions): Promise<string>;
    // (undocumented)
    startStream(defaultContextOptions?: ContextOptions): Promise<void>;
    // (undocumented)
    state: DecoderState;
    stopContext(): Promise<string>;
    // (undocumented)
    stopStream(): Promise<void>;
    switchContext(appId: string): Promise<void>;
    // (undocumented)
    useSharedArrayBuffers(controlSAB: any, dataSAB: any): void;
}

// @public
export interface ContextOptions {
    // (undocumented)
    appId?: string;
    immediate?: boolean;
}

// @public
export enum ControllerSignal {
    // (undocumented)
    AUDIO = "AUDIO",
    // (undocumented)
    CLOSE = "CLOSE",
    // (undocumented)
    connect = "connect",
    // (undocumented)
    initAudioProcessor = "initAudioProcessor",
    // (undocumented)
    SET_SHARED_ARRAY_BUFFERS = "SET_SHARED_ARRAY_BUFFERS",
    // (undocumented)
    START_CONTEXT = "START_CONTEXT",
    // (undocumented)
    startStream = "startStream",
    // (undocumented)
    STOP_CONTEXT = "STOP_CONTEXT",
    // (undocumented)
    stopStream = "stopStream",
    // (undocumented)
    SWITCH_CONTEXT = "SWITCH_CONTEXT"
}

// @public
export interface DecoderOptions {
    apiUrl?: string;
    appId?: string;
    callbacks?: EventCallbacks;
    connect?: boolean;
    debug?: boolean;
    decoder?: CloudDecoder;
    logSegments?: boolean;
    projectId?: string;
    sampleRate?: number;
    storage?: Storage_2;
    vad?: Partial<VadOptions>;
}

// @public
export enum DecoderState {
    // (undocumented)
    Active = 3,
    // (undocumented)
    Connected = 2,
    // (undocumented)
    Disconnected = 1,
    // (undocumented)
    Failed = 0
}

// @public
export const DefaultSampleRate = 16000;

// @public
export interface Entity {
    endPosition: number;
    isFinal: boolean;
    startPosition: number;
    type: string;
    value: string;
}

// @public
export interface EntityResponse {
    end_position: number;
    entity: string;
    start_position: number;
    value: string;
}

// @public
export const ErrAlreadyInitialized: Error;

// @public
export const ErrAppIdChangeWithoutProjectLogin: Error;

// @public
export const ErrDeviceNotSupported: Error;

// @public
export const ErrKeyNotFound: Error;

// @public
export const ErrNoAudioConsent: Error;

// @public
export const ErrNoStorageSupport: Error;

// @public
export const ErrNotInitialized: Error;

// @public
export class EventCallbacks {
    // (undocumented)
    contextStartedCbs: Array<(contextId: string) => void>;
    // (undocumented)
    contextStoppedCbs: Array<(contextId: string) => void>;
    // (undocumented)
    entityCbs: Array<(contextId: string, segmentId: number, entity: Entity) => void>;
    // (undocumented)
    intentCbs: Array<(contextId: string, segmentId: number, intent: Intent) => void>;
    // (undocumented)
    onVadStateChange: Array<(active: boolean) => void>;
    // (undocumented)
    segmentChangeCbs: Array<(segment: Segment) => void>;
    // (undocumented)
    stateChangeCbs: Array<(state: DecoderState) => void>;
    // (undocumented)
    tentativeEntityCbs: Array<(contextId: string, segmentId: number, entities: Entity[]) => void>;
    // (undocumented)
    tentativeIntentCbs: Array<(contextId: string, segmentId: number, intent: Intent) => void>;
    // (undocumented)
    tentativeTranscriptCbs: Array<(contextId: string, segmentId: number, words: Word[], text: string) => void>;
    // (undocumented)
    transcriptCbs: Array<(contextId: string, segmentId: number, word: Word) => void>;
}

// @public
export interface Intent {
    intent: string;
    isFinal: boolean;
}

// @public
export interface IntentResponse {
    intent: string;
}

// @public
export type ResponseCallback = (response: WebsocketResponse_2) => void;

// @public
export interface Segment {
    contextId: string;
    entities: Entity[];
    id: number;
    intent: Intent;
    isFinal: boolean;
    words: Word[];
}

// @public
export class SegmentState {
    constructor(ctxId: string, sId: number);
    // (undocumented)
    contextId: string;
    // (undocumented)
    entities: Map<string, Entity>;
    // (undocumented)
    finalize(): SegmentState;
    // (undocumented)
    id: number;
    // (undocumented)
    intent: Intent;
    // (undocumented)
    isFinalized: boolean;
    // (undocumented)
    toSegment(): Segment;
    // (undocumented)
    toString(): string;
    // (undocumented)
    updateEntities(entities: Entity[]): SegmentState;
    // (undocumented)
    updateIntent(intent: Intent): SegmentState;
    // (undocumented)
    updateTranscript(words: Word[]): SegmentState;
    // (undocumented)
    words: Word[];
}

// @public
export function stateToString(state: DecoderState): string;

// @public
interface Storage_2 {
    get(key: string): string | null;
    getOrSet(key: string, genFn: () => string): string;
    set(key: string, val: string): void;
}
export { Storage_2 as Storage }

// @public
export interface TentativeEntitiesResponse {
    entities: EntityResponse[];
}

// @public
export interface TentativeTranscriptResponse {
    transcript: string;
    words: TranscriptResponse[];
}

// @public
export interface TranscriptResponse {
    end_timestamp: number;
    index: number;
    start_timestamp: number;
    word: string;
}

// @public
export const VadDefaultOptions: VadOptions;

// @public
export interface VadOptions {
    controlListening: boolean;
    enabled: boolean;
    noiseGateDb: number;
    noiseLearnHalftimeMillis: number;
    signalActivation: number;
    signalRelease: number;
    signalSearchFrames: number;
    signalSustainMillis: number;
    signalToNoiseDb: number;
}

// @public
interface WebsocketResponse_2 {
    audio_context: string;
    data: TranscriptResponse | EntityResponse | IntentResponse | TentativeTranscriptResponse | TentativeEntitiesResponse;
    segment_id: number;
    type: WebsocketResponseType_2 | WorkerSignal;
}
export { WebsocketResponse_2 as WebsocketResponse }

// @public
enum WebsocketResponseType_2 {
    // (undocumented)
    Entity = "entity",
    // (undocumented)
    Intent = "intent",
    // (undocumented)
    SegmentEnd = "segment_end",
    // (undocumented)
    Started = "started",
    // (undocumented)
    Stopped = "stopped",
    // (undocumented)
    TentativeEntities = "tentative_entities",
    // (undocumented)
    TentativeIntent = "tentative_intent",
    // (undocumented)
    TentativeTranscript = "tentative_transcript",
    // (undocumented)
    Transcript = "transcript"
}
export { WebsocketResponseType_2 as WebsocketResponseType }

// @public
export interface Word {
    endTimestamp: number;
    index: number;
    isFinal: boolean;
    startTimestamp: number;
    value: string;
}

// @public
export enum WorkerSignal {
    // (undocumented)
    AudioProcessorReady = "SOURCE_SAMPLE_RATE_SET_SUCCESS",
    // (undocumented)
    Closed = "WEBSOCKET_CLOSED",
    // (undocumented)
    Opened = "WEBSOCKET_OPEN",
    // (undocumented)
    VadSignalHigh = "VadSignalHigh",
    // (undocumented)
    VadSignalLow = "VadSignalLow"
}

// (No @packageDocumentation comment for this package)

```
